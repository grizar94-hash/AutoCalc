<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∞–≤—Ç–æ –∏–∑ –ö–æ—Ä–µ–∏</title>

<!-- Open Graph -->
<meta property="og:type" content="website" />
<meta property="og:title" content="–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∞–≤—Ç–æ –∏–∑ –ö–æ—Ä–µ–∏" />
<meta property="og:description" content="–†–∞—Å—Å—á–∏—Ç–∞–π –∏—Ç–æ–≥–æ–≤—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å ¬´–ø–æ–¥ –∫–ª—é—á¬ª –≤ —Ä—É–±–ª—è—Ö –∏ USDT." />
<meta property="og:url" content="https://grizar94-hash.github.io/AutoCalc/" />
<meta property="og:image" content="https://grizar94-hash.github.io/AutoCalc/share.png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />

<link rel="icon" href="icon.png" type="image/png" />
<link rel="apple-touch-icon" href="icon.png" />
<link rel="manifest" href="manifest.json" />
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet" />

<!-- jsPDF + html2canvas -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<style>
  :root { --blue:#0b69ff; --bg:#f0f2f5; --shadow:0 4px 10px rgba(0,0,0,.1); }
  *{ box-sizing:border-box }
  body{
    font-family:'Roboto',system-ui,-apple-system,Segoe UI,Arial,sans-serif;
    background:var(--bg); color:#111; margin:0; padding:20px; overflow-x:hidden;
  }
  .wrap{ max-width:720px; margin:0 auto; }
  h2{ text-align:center; color:var(--blue); margin:0 0 20px; }
  .section{
    padding:20px; margin-bottom:15px; border-radius:12px; color:#fff;
    box-shadow:var(--shadow); transition:background .3s;
  }
  .korea{ background:#4fc3f7 } .currency{ background:#26a69a } .russia{ background:#81c784 }
  .section h3{ margin:0 0 6px }
  .section label{ display:block; margin-top:10px; font-weight:700 }
  input{
    width:100%; padding:10px; margin-top:6px; border-radius:8px; border:none; font-size:16px;
  }
  .insurance-row{
    display:flex; align-items:center; gap:10px;
    margin:12px 0 4px; background:#f7f7f8; border:1px solid #e5e7eb;
    border-radius:10px; padding:10px 12px; box-shadow:var(--shadow);
  }
  .insurance-row input{ width:20px; height:20px }
  .insurance-row label{ flex:1; font-weight:600; line-height:1.3 }
  button{
    width:100%; padding:14px; margin-top:15px; font-size:18px; border:none; border-radius:10px;
    cursor:pointer; background:var(--blue); color:#fff; font-weight:700; transition:.2s; box-shadow:var(--shadow);
  }
  button:hover{ background:#0756d1 }
  button.clear{ background:#ccc; color:#111 }
  button.pdf{ background:#0b69ff; color:#fff } /* —Å–∏–Ω—è—è –∫–Ω–æ–ø–∫–∞ PDF */

  .result{
    margin-top:20px; padding:20px; border-radius:12px; background:#fff3e0; font-size:18px; box-shadow:var(--shadow);
  }
  .result p{ margin:10px 0; font-weight:700 }
  hr{ border:0; border-top:2px dashed #ccc; margin:10px 0 }
</style>
</head>
<body>
<main class="wrap">

  <h2>üöó –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–æ—Å—Ç–∞–≤–∫–∏ –∞–≤—Ç–æ –∏–∑ –ö–æ—Ä–µ–∏</h2>

  <div class="section korea" id="blockKorea">
    <h3>üá∞üá∑ –ö–æ—Ä–µ—è</h3>
    <label>–¶–µ–Ω–∞ –∞–≤—Ç–æ (‚Ç©): <input type="number" id="priceKrw" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ü–µ–Ω—É –∞–≤—Ç–æ"></label>
    <label>–†–∞—Å—Ö–æ–¥—ã –≤ –ö–æ—Ä–µ–µ –≤–∫–ª—é—á–∞—è —Ñ—Ä–∞—Ö—Ç (‚Ç©): <input type="number" id="expensesKrw" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ä–∞—Å—Ö–æ–¥—ã"></label>
  </div>

  <div class="section currency" id="blockCurrency">
    <h3>üí± –ö—É—Ä—Å –≤–∞–ª—é—Ç</h3>
    <label>USDT ‚Üí ‚ÇΩ: <input type="number" id="rubUsdt" placeholder="–°–∫–æ–ª—å–∫–æ —Ä—É–±–ª–µ–π –∑–∞ 1 USDT" step="0.01"></label>
    <label>USDT ‚Üí ‚Ç©: <input type="number" id="usdtKrw" placeholder="–°–∫–æ–ª—å–∫–æ –≤–æ–Ω –∑–∞ 1 USDT" step="0.01"></label>
  </div>

  <div class="section russia" id="blockRussia">
    <h3>üá∑üá∫ –†–æ—Å—Å–∏—è</h3>
    <label>–ü–æ—à–ª–∏–Ω–∞ –∏ —Å–±–æ—Ä—ã (‚ÇΩ): <input type="number" id="dutyRub" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä 150000"></label>
    <label>–¢–∞–º–æ–∂–µ–Ω–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∏ —É—Å–ª—É–≥–∏ –±—Ä–æ–∫–µ—Ä–∞ (‚ÇΩ): <input type="number" id="brokerRub" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä 70000"></label>
    <label>–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –†–æ—Å—Å–∏–∏ (‚ÇΩ): <input type="number" id="deliveryRub" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä 50000"></label>
  </div>

  <div class="insurance-row">
    <input type="checkbox" id="insuranceCheck" />
    <label for="insuranceCheck">–î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–∞—Ö–æ–≤–∫—É 0,3% –æ—Ç —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Å—É–º–º—ã</label>
  </div>

  <button onclick="calculate()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
  <button class="clear" onclick="clearAll()">–û—á–∏—Å—Ç–∏—Ç—å –ø–æ–ª—è</button>
  <button class="pdf" onclick="downloadPDF()">üìÑ –°–∫–∞—á–∞—Ç—å PDF-–æ—Ç—á—ë—Ç</button>

  <div class="result" id="result"></div>
</main>

<script>
  // –ê–Ω–∏–º–∞—Ü–∏—è —á–∏—Å–µ–ª
  function animateValue(id, start, end, duration){
    const el=document.getElementById(id); const rng=end-start; let t0=null;
    function step(ts){ if(!t0) t0=ts; const p=Math.min(1,(ts-t0)/duration);
      const v=Math.floor(start + rng*p);
      el.textContent = v.toLocaleString('ru-RU') + ' ‚ÇΩ';
      if(p<1) requestAnimationFrame(step); else el.textContent = end.toLocaleString('ru-RU') + ' ‚ÇΩ';
    }
    requestAnimationFrame(step);
  }

  function calculate(){
    const priceKrw=+document.getElementById('priceKrw').value||0;
    const expensesKrw=+document.getElementById('expensesKrw').value||0;
    const rubUsdt=+document.getElementById('rubUsdt').value||0;
    const usdtKrw=+document.getElementById('usdtKrw').value||0;
    const dutyRub=+document.getElementById('dutyRub').value||0;
    const brokerRub=+document.getElementById('brokerRub').value||0;
    const deliveryRub=+document.getElementById('deliveryRub').value||0;
    const insuranceOn=document.getElementById('insuranceCheck').checked;

    const koreaKrw = priceKrw + expensesKrw;                     // KRW
    const rubNeeded = usdtKrw ? (koreaKrw / usdtKrw) * rubUsdt : 0; // RUB –¥–ª—è –ø–æ–∫—É–ø–∫–∏ USDT
    const russiaSubtotal = dutyRub + brokerRub + deliveryRub;    // RUB
    const preFinal = rubNeeded + russiaSubtotal;                 // RUB
    const insuranceRub = insuranceOn ? preFinal*0.003 : 0;       // RUB
    const finalRub = preFinal + insuranceRub;                    // RUB

    // –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –∞–∫—Ü–µ–Ω—Ç—ã
    document.getElementById('blockKorea').style.background='#29b6f6';
    document.getElementById('blockRussia').style.background='#66bb6a';
    document.getElementById('result').style.background='#ffe0b2';

    document.getElementById('result').innerHTML = `
      <p>üí∞ –í –ö–æ—Ä–µ–µ: <span id="valKorea">0 ‚ÇΩ</span></p>
      <p>üí∞ –í –†–æ—Å—Å–∏–∏: <span id="valRussia">0 ‚ÇΩ</span></p>
      ${insuranceOn ? `<p>üõ°Ô∏è –°—Ç—Ä–∞—Ö–æ–≤–∫–∞: <span id="valInsurance">0 ‚ÇΩ</span></p>` : ''}
      <hr>
      <p>üèÅ –ü–æ–¥ –∫–ª—é—á: <span id="valFinal">0 ‚ÇΩ</span></p>
    `;
    animateValue('valKorea',0,Math.round(rubNeeded),900);
    animateValue('valRussia',0,Math.round(russiaSubtotal),900);
    if(insuranceOn) animateValue('valInsurance',0,Math.round(insuranceRub),900);
    animateValue('valFinal',0,Math.round(finalRub),1100);

    // —Å–æ—Ö—Ä–∞–Ω–∏–º –¥–ª—è PDF (–µ—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è)
    window.__calc = { priceKrw, expensesKrw, rubUsdt, usdtKrw, dutyRub, brokerRub, deliveryRub,
                      insuranceOn, koreaKrw, rubNeeded, russiaSubtotal, insuranceRub, finalRub };
  }

  function clearAll(){
    ['priceKrw','expensesKrw','rubUsdt','usdtKrw','dutyRub','brokerRub','deliveryRub']
      .forEach(id=>document.getElementById(id).value='');
    document.getElementById('insuranceCheck').checked=false;
    document.getElementById('result').innerHTML='';
    document.getElementById('blockKorea').style.background='#4fc3f7';
    document.getElementById('blockRussia').style.background='#81c784';
    window.__calc = null;
  }

  // ===== PDF: —Å—Ç—Ä–æ–≥–∞—è —à–∞–ø–∫–∞ + –¢–ê–ë–õ–ò–ß–ù–´–ô –æ—Ç—á—ë—Ç (–∫–∞–∫ —Å–æ–≥–ª–∞—Å–æ–≤–∞–ª–∏) =====
  function fmt(n, d=0){
    if (!isFinite(n)) return '‚Äî';
    const v = d ? Number(n).toFixed(d) : Math.round(n);
    return Number(v).toLocaleString('ru-RU');
  }

  async function downloadPDF(){
    // —á–∏—Ç–∞–µ–º –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ —Ñ–æ—Ä–º—ã (–Ω–∞ —Å–ª—É—á–∞–π –µ—Å–ª–∏ –Ω–µ –Ω–∞–∂–∞–ª–∏ "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å")
    const val = id => +(document.getElementById(id).value || 0);
    const insuranceOn = document.getElementById('insuranceCheck').checked;

    const priceKrw    = val('priceKrw');
    const expensesKrw = val('expensesKrw');
    const rubUsdt     = val('rubUsdt');
    const usdtKrw     = val('usdtKrw');
    const dutyRub     = val('dutyRub');
    const brokerRub   = val('brokerRub');
    const deliveryRub = val('deliveryRub');

    const koreaKrw        = priceKrw + expensesKrw;
    const rubNeeded       = usdtKrw ? (koreaKrw / usdtKrw) * rubUsdt : 0;
    const russiaSubtotal  = dutyRub + brokerRub + deliveryRub;
    const preFinal        = rubNeeded + russiaSubtotal;
    const insuranceRub    = insuranceOn ? preFinal * 0.003 : 0;
    const finalRub        = preFinal + insuranceRub;

    // –≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–¥ html2canvas
    const page = document.createElement('div');
    page.style.cssText = `
      position:fixed; left:-99999px; top:0; width:794px; /* A4 @96dpi */
      background:#fff; color:#000; font-family:-apple-system, system-ui, Segoe UI, Roboto, Arial, sans-serif;
    `;

    // —Ç–æ–Ω–∫–∞—è —á—ë—Ä–Ω–∞—è –ø–æ–ª–æ—Å–∞
    const topBar = document.createElement('div');
    topBar.style.cssText = 'height:10px;background:#000;width:100%;';
    page.appendChild(topBar);

    // —à–∞–ø–∫–∞: –ª–æ–≥–æ—Ç–∏–ø —Å–ª–µ–≤–∞, –∫–æ–Ω—Ç–∞–∫—Ç—ã —Å–ø—Ä–∞–≤–∞
    const header = document.createElement('div');
    header.style.cssText = 'display:flex;justify-content:space-between;align-items:flex-start;padding:18px 24px 0 24px;gap:16px;';

    const logo = document.createElement('img');
    const tryLarge = new Image();
    tryLarge.src = 'logo_pdf.png';
    await new Promise(r => { tryLarge.onload = r; tryLarge.onerror = r; });
    logo.src = (tryLarge.complete && tryLarge.naturalWidth) ? 'logo_pdf.png' : 'logo.png';
    logo.alt = 'Harmex';
    logo.style.cssText = 'height:90px;object-fit:contain;';
    header.appendChild(logo);

    const contacts = document.createElement('div');
    contacts.style.cssText = 'text-align:right; font-size:12px; line-height:1.5;';
    contacts.innerHTML = `
      <strong style="font-size:14px">Harmex</strong><br>
      ÏÇ¨ÏóÖÏûêÎì±Î°ùÎ≤àÌò∏: 749-11-02981<br>
      Tel: +82 10 3056 0903<br>
      Email: annamoloz95@gmail.com<br>
      Address: 201, 42 Hambak-ro84beon-gil,<br>
      &nbsp;&nbsp;&nbsp;&nbsp;Yeonsu-dong, Yeonsu-gu, Incheon, South Korea<br>
      Director: Molozhavaia Anna
    `;
    header.appendChild(contacts);
    page.appendChild(header);

    // –∑–∞–≥–æ–ª–æ–≤–æ–∫ (—á—ë—Ä–Ω—ã–π) + –¥–∞—Ç–∞
    const title = document.createElement('div');
    title.textContent = '–û—Ç—á—ë—Ç –ø–æ —Ä–∞—Å—á—ë—Ç—É –∞–≤—Ç–æ–º–æ–±–∏–ª—è –∏–∑ –ö–æ—Ä–µ–∏';
    title.style.cssText = 'text-align:center; font-weight:700; font-size:20px; color:#000; margin:16px 24px 4px;';
    page.appendChild(title);

    const date = document.createElement('div');
    date.textContent = '–î–∞—Ç–∞: ' + new Date().toLocaleDateString('ru-RU');
    date.style.cssText = 'text-align:center; font-size:12px; color:#222; margin-bottom:10px;';
    page.appendChild(date);

    // —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
    const hr = document.createElement('div');
    hr.style.cssText = 'height:1px;background:#000;margin:6px 24px 12px;';
    page.appendChild(hr);

    // ===== –¢–∞–±–ª–∏—Ü–∞ ¬´–ö—É—Ä—Å—ã –≤–∞–ª—é—Ç¬ª =====
    const rates = document.createElement('div');
    rates.style.cssText = 'margin:0 24px 10px;';
    rates.innerHTML = `
      <div style="font-weight:700; margin:6px 0;">–ö—É—Ä—Å—ã –≤–∞–ª—é—Ç</div>
      <table style="width:100%; border-collapse:collapse; font-size:14px;">
        <thead>
          <tr>
            <th style="text-align:left; border-bottom:2px solid #000; padding:8px 6px;">–ü–∞—Ä–∞</th>
            <th style="text-align:right; border-bottom:2px solid #000; padding:8px 6px;">–ö—É—Ä—Å</th>
          </tr>
        </thead>
        <tbody>
          <tr><td style="padding:8px 6px; border-bottom:1px solid #e5e7eb;">1 USDT ‚Üí ‚ÇΩ</td>
              <td style="padding:8px 6px; text-align:right; border-bottom:1px solid #e5e7eb;">${fmt(rubUsdt,2)} ‚ÇΩ</td></tr>
          <tr><td style="padding:8px 6px; border-bottom:1px solid #e5e7eb;">1 USDT ‚Üí ‚Ç©</td>
              <td style="padding:8px 6px; text-align:right; border-bottom:1px solid #e5e7eb;">${fmt(usdtKrw,2)} ‚Ç©</td></tr>
        </tbody>
      </table>
    `;
    page.appendChild(rates);

    // ===== ¬´–ö–æ—Ä–µ—è¬ª + ¬´–°–∫–æ–ª—å–∫–æ —Ä—É–±–ª–µ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å‚Ä¶¬ª =====
    const kor = document.createElement('div');
    kor.style.cssText = 'margin:10px 24px;';
    kor.innerHTML = `
      <div style="font-weight:700; margin:6px 0;">–ö–æ—Ä–µ—è</div>
      <table style="width:100%; border-collapse:collapse; font-size:14px;">
        <tbody>
          <tr><td style="padding:8px 6px; border-bottom:1px solid #e5e7eb;">–¶–µ–Ω–∞ –∞–≤—Ç–æ (KRW)</td>
              <td style="padding:8px 6px; text-align:right; border-bottom:1px solid #e5e7eb;">${fmt(priceKrw)} ‚Ç©</td></tr>
          <tr><td style="padding:8px 6px; border-bottom:1px solid #e5e7eb;">–†–∞—Å—Ö–æ–¥—ã –≤ –ö–æ—Ä–µ–µ –≤–∫–ª—é—á–∞—è —Ñ—Ä–∞—Ö—Ç (KRW)</td>
              <td style="padding:8px 6px; text-align:right; border-bottom:1px solid #e5e7eb;">${fmt(expensesKrw)} ‚Ç©</td></tr>
          <tr><td style="padding:8px 6px; border-bottom:2px solid #000;"><strong>–ò—Ç–æ–≥–æ –≤ –ö–æ—Ä–µ–µ (KRW)</strong></td>
              <td style="padding:8px 6px; text-align:right; border-bottom:2px solid #000;"><strong>${fmt(koreaKrw)} ‚Ç©</strong></td></tr>
          <tr><td style="padding:8px 6px;"><strong>–°–∫–æ–ª—å–∫–æ —Ä—É–±–ª–µ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ USDT</strong></td>
              <td style="padding:8px 6px; text-align:right;"><strong>${fmt(rubNeeded)} ‚ÇΩ</strong></td></tr>
        </tbody>
      </table>
    `;
    page.appendChild(kor);

    // ===== ¬´–†–æ—Å—Å–∏—è¬ª =====
    const rus = document.createElement('div');
    rus.style.cssText = 'margin:10px 24px;';
    rus.innerHTML = `
      <div style="font-weight:700; margin:6px 0;">–†–æ—Å—Å–∏—è</div>
      <table style="width:100%; border-collapse:collapse; font-size:14px;">
        <tbody>
          <tr><td style="padding:8px 6px; border-bottom:1px solid #e5e7eb;">–ü–æ—à–ª–∏–Ω–∞ –∏ —Å–±–æ—Ä—ã (RUB)</td>
              <td style="padding:8px 6px; text-align:right; border-bottom:1px solid #e5e7eb;">${fmt(dutyRub)} ‚ÇΩ</td></tr>
          <tr><td style="padding:8px 6px; border-bottom:1px solid #e5e7eb;">–¢–∞–º–æ–∂–µ–Ω–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∏ —É—Å–ª—É–≥–∏ –±—Ä–æ–∫–µ—Ä–∞ (RUB)</td>
              <td style="padding:8px 6px; text-align:right; border-bottom:1px solid #e5e7eb;">${fmt(brokerRub)} ‚ÇΩ</td></tr>
          <tr><td style="padding:8px 6px; border-bottom:2px solid #000;">–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –†–æ—Å—Å–∏–∏ (RUB)</td>
              <td style="padding:8px 6px; text-align:right; border-bottom:2px solid #000;">${fmt(deliveryRub)} ‚ÇΩ</td></tr>
          <tr><td style="padding:8px 6px;"><strong>–ò—Ç–æ–≥–æ –ø–æ –†–æ—Å—Å–∏–∏</strong></td>
              <td style="padding:8px 6px; text-align:right;"><strong>${fmt(russiaSubtotal)} ‚ÇΩ</strong></td></tr>
        </tbody>
      </table>
    `;
    page.appendChild(rus);

    // ===== ¬´–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ¬ª (—Å—Ç—Ä–∞—Ö–æ–≤–∫–∞) –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ =====
    if (insuranceOn){
      const add = document.createElement('div');
      add.style.cssText = 'margin:10px 24px;';
      add.innerHTML = `
        <div style="font-weight:700; margin:6px 0;">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ</div>
        <table style="width:100%; border-collapse:collapse; font-size:14px;">
          <tbody>
            <tr><td style="padding:8px 6px; border-bottom:2px solid #000;">–°—Ç—Ä–∞—Ö–æ–≤–∫–∞ (0,3%)</td>
                <td style="padding:8px 6px; text-align:right; border-bottom:2px solid #000;">${fmt(insuranceRub)} ‚ÇΩ</td></tr>
          </tbody>
        </table>
      `;
      page.appendChild(add);
    }

    // ===== –ò—Ç–æ–≥ =====
    const total = document.createElement('div');
    total.style.cssText = 'margin:12px 24px 0;';
    total.innerHTML = `
      <div style="font-weight:700; margin:6px 0;">–ò—Ç–æ–≥</div>
      <table style="width:100%; border-collapse:collapse; font-size:15px;">
        <tbody>
          <tr>
            <td style="padding:10px 6px;"><strong>–ü–û–î –ö–õ–Æ–ß</strong></td>
            <td style="padding:10px 6px; text-align:right;"><strong>${fmt(finalRub)} ‚ÇΩ</strong></td>
          </tr>
        </tbody>
      </table>
    `;
    page.appendChild(total);

    // –Ω–∏–∂–Ω—è—è –ø–æ–¥–ø–∏—Å—å
    const footer=document.createElement('div');
    footer.style.cssText='font-size:11px; color:#555; margin:16px 24px 24px;';
    footer.textContent='–ò—Å—Ç–æ—á–Ω–∏–∫ —Ä–∞—Å—á—ë—Ç–∞: https://grizar94-hash.github.io/AutoCalc/';
    page.appendChild(footer);

    document.body.appendChild(page);

    // –†–µ–Ω–¥–µ—Ä –≤ PDF
    const canvas = await html2canvas(page, { scale:2 });
    const { jsPDF } = window.jspdf;
    const pdf = new jsPDF('p','pt','a4');
    const imgData = canvas.toDataURL('image/png');
    const pdfW = pdf.internal.pageSize.getWidth();
    const pdfH = canvas.height * (pdfW / canvas.width);
    pdf.addImage(imgData, 'PNG', 0, 0, pdfW, pdfH);
    pdf.save('AutoCalc_Report.pdf');

    document.body.removeChild(page);
  }
</script>
</body>
</html>
